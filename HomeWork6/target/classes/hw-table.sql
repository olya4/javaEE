CREATE TABLE BUYER
(
    ID   BIGSERIAL    NOT NULL PRIMARY KEY,
    NAME VARCHAR(255) NOT NULL
);

CREATE TABLE ROSTER
(
    ID       BIGSERIAL NOT NULL PRIMARY KEY,
    STATUS   VARCHAR(255) DEFAULT '',
    BUYER_ID BIGINT    NOT NULL,

    CONSTRAINT fk_buyer
        FOREIGN KEY (BUYER_ID)
            REFERENCES BUYER (ID)
);

CREATE TABLE PRODUCT
(
    ID    BIGSERIAL      NOT NULL PRIMARY KEY,
    TITLE VARCHAR(255)   NOT NULL,
    COST  DECIMAL(10, 2) NOT NULL,
    UNIQUE (TITLE)
);

CREATE TABLE ROSTER_PRODUCT
(
    ROSTER_ID  BIGINT NOT NULL,
    PRODUCT_ID BIGINT NOT NULL,

    PRIMARY KEY (ROSTER_ID, PRODUCT_ID),

    CONSTRAINT fk_roster_product_roster
        FOREIGN KEY (ROSTER_ID)
            REFERENCES ROSTER (ID),

    CONSTRAINT fk_order_product_product
        FOREIGN KEY (PRODUCT_ID)
            REFERENCES PRODUCT (ID)
);